The model is implemented at all levels of abstraction using pure functions or, when pressed for performance, regular functions (as defined by Stepanov) that use reference parameters or owner objects to store output. Functions and objects are organized into mathematical categories. 

At the highest level of abstraction, the model can be thought to implement the commutative ciagram [here](https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBoBmAXVJADcBDAGwFcYkQAFAGQHEQBfUuky58hFGQBM1Ok1bsAagH0AjAKEgM2PASJkArDIYs2iTrwA6FgCIxGOegAIAkjnXDtYoiopG5pkABhXmcAFXdNER1xZB9pGmN5MwBlCK1RXRQfFT8Tdmc0qK8USV8E-3YAIULPTORS+Nk8s2VJGoyY8jKmpJAAaXboogAWbsSAvscrPABbeEcARUHi5FHh3N6lwQ8OkdJDcuaQK1CACxgHKYtZ+asuehmAIygnaaw5uEcAJWW6-VJ1odNlcbp8thp0kMUF1AT0AgAJEHvebgnZQ5BdA5w9gnc4OX4xHxY8Y4mx2fHbSK1GKlYkVMyVJEfK5nC70AneUgANg2ASstnsr2uyM+-PJ7MpkJWXR5QL5FlZlzezPCkqKdR8sJJZmCPGqaupRFKsuxZgAghyUP86UcfgbdlbubzSfcni9LcguU65exAJBkTPmbnt6K9Nt6XwDnwUkccQYh6piAHZ9s6zABRGNWGbMGNxtErZMm7XHCwMABOMDQ2EYBBjpxjADom7mPQAOFM+sxWDhYTMWbMt4MF0jEVMgC1Durt0edzhKGYxssx2ge5M5Wf6+OGlDJxrFtNt0jr01BXiOSpKQLnpRca88RyqrcO5Dtvf0kD0GC9qwQOYAcyFAB5f8JRkGAoD-eAiFAAAzMtfyQUoQBwCAkGISk4IQxAumQ1DEGGDD4JmJBRlwpB9EIrCyDIxAVEo4jEGolCkBw856CgdgcAAdwgNioAQGg4FOLAYLcRAAFo6I0TCGJw5jEC5eikC9GjEyU7CaHk6ihJEsT0OkojlM0vDW3UgBOYykBUfTYMM2ifBo6z1JUJD5KcgysJUOS8JUAiPIYlQVLcij-Ks5NHJC2zPPbRy-KigKLIi5zvKs6jGCwMAAigCAcBwcCIhkpBEvkmL0sy9hsty-LnKCny4pAQr7Ms2j6sayQmJ8yKGrsyQUsQSRJHUyRSPkyQHLKrKcryjihv+GjhsE4TRKQSShpGvDJDmnTlokqT4sQvrepoGsIDQbxWzIGCmDgGAZEYehHjsDgE3YMssD-U4826rCFvm0iTrOrILtIK7GBuu6Hqel6zDej6vra2rEK2paxNW0L+rm0aVO21G9u+hjNuayQ1PR4mifCgHzsu67buOyHGGe7cQFhz6CrslQHNG8aMsmqqZvRjmiaQiaKqm6rSZi0bEpFsxsuYR5GDYGg+PYSBys0+gsEYVWCDYdTyA6ljhZ50X5cVkBlZgdidfV5DNe1sw1b19HyE5vDyBwmWQDlhWlZAFXHd1i27a1m3nf22jEYU46TdlsX+YjlRirwlSvcq6aBEofggA) or [here](https://davidson16807.github.io/cdcraft/?0&=-560_-1133,6747&=nvnm,1_2,2_2,11,0_0,7:0;nvnm,2_2,1_2,11,0_0,7:0;nvnm,1_2,1_1,10,0_0,7:0;nvnm,1_3,1_2,10,0_0,7:0;nvnm,2_2,2_1,10,0_0,7:0;nvnm,2_1,2_0,10,0_0,7:0;nvnm,2_2,3_2,10,0_0,7:0;nvnm,3_2,3_1,10,0_0,7:0;nvnm,3_2,4_2,10,0_0,7:0;nvoi,5_2,4_2,10,0_0,7:0;nvnm,5_2,5_3,10,0_0,7:0;nvnm,6_3,5_3,10,0_0,7:0;nvoi,4_3,5_3,10,0_0,7:0;nvnm,4_3,4_4,10,0_0,7:0;nvnm,5_4,4_4,10,0_0,7:0;nvnm,5_4,5_3,10,0_0,7:0;nvoi,2_3,3_2,10,0_0,7:0;nvnm,2_3,2_4,10,0_0,7:0;nvnm,2_5,2_4,10,0_0,7:0;nvnm,3_5,2_4,10,0_0,7:0;nvnm,3_4,2_4,10,0_0,7:0;nvoi,3_4,3_2,10,0_0,7:0;nvnm,3_4,4_4,10,0_0,7:0;nvnm,4_5,4_4,10,0_0,7:0;nvoi,5_4,6_4,10,0_0,7:0;nvoi,5_4,6_5,10,0_0,7:0;nvnm,7_5,6_5,10,0_0,7:0;nvoi,7_4,6_4,10,0_0,7:0;nvnm,8_4,7_4,11,0_0,7:0;nvnm,7_4,8_4,11,0_0,7:0;nvnm,8_4,9_4,10,0_0,7:0;nvnm,8_4,8_5,-11,0_0,7:0;nvnm,8_5,8_4,-11,0_0,7:0&=4_3,2:*XFtcUGlcXQ==;4_5,2:*XFtcVGhldGEgVFxd;4_4,2:*XFtcVGhldGFcXQ==,3:*;6_3,2:*XFtRXHRpbWVzIFFcXQ==;5_4,2:*XFtcVGhldGFcTGFtYmRhIFJcXQ==,3:*;6_4,2:*XFtSXF0=;3_5,2:*XFtBXF0=;2_5,2:*XFtcRGVsdGFcRGVsdGFcXQ==;1_1,2:*XFtWXzFcXQ==;2_1,2:*XFtTXF0=;3_1,2:*XFtWXzJcXQ==;2_0,2:*XFtJXF0=;1_3,2:*XFtQTEdcRGVsdGEgSXRcXQ==;2_3,2:*XFtDTEdCXF0=;3_4,2:*XFtCXFRoZXRhXF0=;2_4,2:*XFtcRGVsdGFcXQ==;6_5,2:*XFtTXExhbWJkYVxd;7_5,2:*XFt0XF0=;5_3,2:*XFtRXF0=;5_2,2:*XFtLUVxd;4_2,2:*XFtLXF0=;3_2,2:*XFtCXF0=;2_2,2:*XFtDTEdJVFxd;1_2,2:*XFtQTEdcXQ==;9_4,2:*XFtcUGlcbXUgdFxd;8_5,2:*XFtcZXBzaWxvbiBoIFxsZG90cyB0XF0=;8_4,2:*XFtFIFxtdSB0XF0=;7_4,2:*XFtSIFYgdFxd), or [here](https://davidson16807.github.io/cdcraft/?0&=-748_-4547,6895&=nvnm,1_6,1_3,-30,0_0,7:0,8:*S2xpbmNld2ljeg==;nvoi,1_3,1_6,-30,0_0,7:0;nvnm,1_2,1_3,10,0_0,7:0;nvnm,1_2,1_1,10,0_0,7:0,8:*U2F0by1SaWVkZWw=;nvnm,0_2,1_1,10,0_0,7:0,8:*U2hlZmZ5LUpvaG5zb24=;nvoi,4_2,3_3,10,0_0,7:0;nvoi,6_3,3_3,10,0_0,7:0;nvoi,3_2,3_3,10,0_0,7:0;nvnm,3_2,2_2,-11,0_0,7:0,8:*Um93bGluc29uLVBvbGluZw==;nvnm,2_2,3_2,-11,0_0,7:0,8:*;nvnm,3_2,4_2,-11,0_0,7:0;nvnm,4_2,3_2,-11,0_0,7:0,8:*UGl0emVy;nvnm,2_2,2_1,10,0_0,7:0;nvoi,3_2,3_1,10,0_0,7:0;nvnm,3_3,1_3,20,0_0,7:0;nvoi,5_2,6_3,-15,0_0,7:0;nvnm,6_3,5_2,-15,0_0,7:0;nvoi,5_2,5_0,10,0_0,7:0;nvnm,5_2,6_1,10,0_0,7:0;nvnm,6_2,6_3,10,0_0,7:0;1acqo,3_1,6_1,-6,0_0,7:0;1acqo,6_1,8_1,-6,0_0,7:0;nvoi,1_3,3_3,20,0_0,7:0;nvoi,6_2,6_1,10,0_0,7:0;nvnm,7_2,6_3,10,0_0,7:0,8:*;nvoi,7_2,7_-1,10,0_0,7:0;nvnm,6_3,9_3,-31,0_0,7:0,8:*SWhtZWxz;nvoi,9_3,6_3,-31,0_0,7:0;nvnm,6_2,7_2,-11,0_0,7:0;nvnm,7_2,6_2,-11,0_0,7:0,8:*TGV0c291LVN0aWVs;nvoi,8_2,9_3,10,0_0,7:0;nvoi,9_2,9_3,10,0_0,7:0;nvnm,8_2,9_2,-11,0_0,7:0;nvnm,9_2,8_2,-11,0_0,7:0,8:*TGVlLUtlc3RsZXI=;nvoi,8_2,8_1,10,0_0,7:0;nvoi,9_2,9_-1,10,0_0,7:0;nvnm,10_3,9_3,-11,0_0,7:0,8:*SWhtZWxz;nvoi,9_3,10_3,-11,0_0,7:0;nvoi,10_3,11_3,10,0_0,7:0;nvnm,10_6,10_3,10,0_0,7:0,8:*S2xpbmNld2ljeg==;nvnm,11_3,11_0,10,0_0,7:0;nvnm,11_0,11_3,10,0_0,7:0,8:*QlNMMQ==;1acqo,5_0,11_0,-6,0_0,7:0;nvnm,11_0,12_0,10,0_0,7:0;nvnm,12_0,11_0,10,0_0,7:0,8:*QlNMMg==;nvnm,13_0,12_0,10,0_0,7:0;nvnm,12_1,12_0,10,0_0,7:0,8:*UmFja2V0dA==;nvoi,12_1,12_2,10,0_0,7:0;nvnm,9_3,12_6,14,0_0,7:0;nvnm,12_6,9_3,14,0_0,7:0;nvnm,12_6,12_2,-20,0_0,7:0;nvnm,12_2,12_6,-20,0_0,7:0;nvnm,12_6,15_3,10,0_0,7:0;nvnm,15_3,12_6,10,0_0,7:0;nvnm,15_2,15_3,10,0_0,7:0;nvnm,15_2,15_0,10,0_0,7:0;nvnm,13_0,13_-1,10,0_0,7:0;nvnm,13_-1,13_0,10,0_0,7:0,8:*R29vZG1hbg==;nvoi,13_-1,13_-2,10,0_0,7:0;nvoi,13_-3,13_-2,10,0_0,7:0;nvnm,13_-3,13_-4,10,0_0,7:0;nvnm,12_-3,12_-4,10,0_0,7:0;nvoi,12_-3,12_0,10,0_0,7:0;nvnm,11_-3,11_-4,10,0_0,7:0,8:*Q2xhcGV5cm9u;nvoi,15_-3,15_0,10,0_0,7:0;nvnm,15_-3,15_-4,10,0_0,7:0;nvoi,16_-3,16_-4,10,0_0,7:0;nvnm,16_-3,17_-3,10,0_0,7:0;nvnm,17_-3,16_-3,10,0_0,7:0,8:*RXVja2Vu;nvoi,17_-3,17_-4,10,0_0,7:0&=1_6,2:*XFtNVF9iXF0=;1_3,2:*XFtUX2NNVF9iXF0=;1_2,2:*XFtUX2NNVFRUX2JcXQ==;1_1,2:*XFtrX0xcXQ==;0_2,2:*XFtNVFRfbVxd;2_2,2:*XFtUX2NUQ19MXF0=;3_2,2:*XFtUX2NUXG9tZWdhXF0=;3_1,2:*XFtcb21lZ2FcXQ==;2_1,2:*XFtDX0xcXQ==;4_2,2:*XFtUX0NUSF92XF0=;6_3,2:*XFtUX0NQX0Ncc2lnbWFcXQ==;5_0,2:*XFtcc2lnbWFcXQ==;6_1,2:*XFtcb21lZ2FcXQ==;8_1,2:*XFtcb21lZ2FcXQ==,3:*;6_2,2:*XFtUX0NQX0NNVFxvbWVnYVxd,3:*;3_3,2:*XFtUX0NcXQ==;5_2,2:*XFtUX0NQX0Ncc2lnbWFcXQ==;7_-1,2:*XFtcZXRhX0xcXQ==;9_3,2:*XFtUX0NQX0NWX0NcXQ==;9_-1,2:*XFtQX3t2TH1cXQ==,3:*;7_2,2:*XFtUX0NQX0NNVFxldGFfTFxd;8_2,2:*XFtUX0NQX0NWX0NUXG9tZWdhXF0=;9_2,2:*XFtUX0NQX0NWX0NUUF9WXF0=;10_3,2:*XFtQX0NWX0NcXQ==,3:*;11_3,2:*XFtWX0NcXQ==,3:*;10_6,2:*XFtBTVxd;11_0,2:*XFtcc2lnbWFcXQ==,3:*;12_0,2:*XFtWX0xcXQ==;13_0,2:*XFtWX0xUX3RcXQ==;12_1,2:*XFtUX0NWX0NaX0NUXF0=;12_2,2:*XFtUX0NWX0NaX0NcXQ==;12_6,2:*XFtUX0NQX0NWX0NaX0NcXQ==;15_3,2:*XFtUX0NQX0NaX0NcXQ==;15_2,2:*XFtUX0NQX0NaX0NUUFxd;15_0,2:*XFtWX0dcXQ==;13_-1,2:*XFtWX1NUX3RcXQ==;13_-2,2:*XFtWX1NcXQ==;13_-3,2:*XFtWX1NNXF0=;12_-3,2:*XFtWX0xNXF0=;15_-3,2:*XFtWX0dNXF0=;15_-4,2:*XFtccmhvX0dcXQ==;16_-4,2:*XFtrX0dcXQ==;17_-4,2:*XFtcZXRhX0dcXQ==;13_-4,2:*XFtccmhvX1NcXQ==;12_-4,2:*XFtccmhvX0xcXQ==,3:*;11_-4,2:*XFtccmhvX3t2U31cXQ==;11_-3,2:*XFtIX1NUVF90UF90XF0=) which can also be viewed with the following [tikzcd](http://ctan.math.washington.edu/tex-archive/graphics/pgf/contrib/tikz-cd/tikz-cd-doc.pdf) markup:


```
\begin{tikzcd}
                                               &                                     &                                                        &                                        &                                                                                         &                      &                                                                                                        & A \arrow[r, no head, Rightarrow]                                            & P_m \times r \times v                                              \\
                                               & I                                   &                                                        &                                        &                                                                                         &                      &                                                                                                        & B \arrow[r, no head, Rightarrow]                                            & CLG B_C B_L B_G T                                                  \\
V_1                                            & S \arrow[u]                         & V_2                                                    &                                        &                                                                                         &                      &                                                                                                        & E \arrow[r, no head, Rightarrow]                                            & aei \omega \Omega                                                  \\
PLG \arrow[u] \arrow[r, two heads, shift left] & CLGIT \arrow[u] \arrow[r] \arrow[l] & B \arrow[u] \arrow[r]                                  & K                                      & K \times Q \arrow[d] \arrow[l, dotted]                                                  &                      &                                                                                                        &                                                                             &                                                                    \\
                                               & CLGB \arrow[d] \arrow[ru, dotted]   &                                                        & H \times Q \arrow[d] \arrow[r, dotted] & Q                                                                                       & Q \times Q \arrow[l] &                                                                                                        &                                                                             &                                                                    \\
PLG\Delta It \arrow[uu]                        & \Delta                              & B \times \Theta \arrow[l] \arrow[r] \arrow[uu, dotted] & \Theta                                 & \Theta \times \Lambda \times R \arrow[u] \arrow[l] \arrow[r, dotted] \arrow[rd, dotted] & R                    & R \times V \times t \arrow[l, dotted] \arrow[r, shift left] \arrow[loop, distance=2em, in=125, out=55] & E \times \mu \times t \arrow[l, shift left] \arrow[d, shift left] \arrow[r] & \Pi \times \mu \times t \arrow[loop, distance=2em, in=125, out=55] \\
                                               & \Delta \times \Delta \arrow[u]      & A \arrow[lu]                                           & \Theta \times T \arrow[u]              &                                                                                         & \Lambda              & ☉ \times t \arrow[l] \arrow[loop, distance=2em, in=125, out=55]                                        & \varepsilon \times h \times ... \times t \arrow[u, shift left]              &                                                                   
\end{tikzcd}
```

Identity arrows are omitted. Dotted arrows indicate trivial product morphisms, which are still implied if omitted. Products are depicted using concatenation where needed for brevity. 

Objects within the commutative diagram represent classes within the implementation. 

The most important objects in the diagram are as follows. 
* `P` **plates**                                                                    raster of columns with variable width layers and bitmask
* `C` **global crust**                                                              raster of columns with variable width layers
* `L` **liquid mass pools**                                                         scalars mapping to mass pools
* `G` **gaseous mass pools**                                                        scalars mapping to mass pools
* `V*`**view layers**
* `B` **boundary indicators for rock strata, oceans, and atmosphere**
* `K` **thermal conductivity and heat capacitance**                                 fixed-width layered raster
* `Q` **heat transfer**                                                             fixed-width layered raster
* `H` **thermal energy**                                                            fixed-width layered raster
* `Θ` **temperature**                                                               fixed-width layered raster
* `Λ` **solar radiation**                                                           scalars mapping to bins of fixed wavelength
* `R` **placement of celestial bodies**                                             
* `Δ` **deltas**                                                                    data structure indicating rates of change
* `t` **timestep**                                                                  scalar

And the following are objects that play secondary roles:
* `T` tables of chemical properties
* `I` indexes indicating the grid cells of global crust that belong to plates
* `S` mass-spring representation of crust
* `☉` mass pools of stars and other state variables
* `V` velocities of celestial bodies
* `E` orbital elements of celestial bodies
* `ε` orbital energies of celestial bodies
* `Π` periods of celestial cycles
* `μ` mean anomaly
* `A` asteroid impact

Importance here is defined subjectively, but is meant to help concentrate your attention.
